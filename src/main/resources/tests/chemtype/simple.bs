module test
manifest mat chemical1
manifest mat chemical2

functions

instructions

function test(chemA) : nat {
    a = mix chemA with chemical1
    return a
}

a = test(chemical1)

if (4 < 3) {
     b = mix a with chemical1
} else {
     b = mix chemical1 with chemical2
}

repeat 4 times {
    x = detect test on a
}